@page "{id:int}"
@model Frontend.Pages.Excel.LogModel
@{
    ViewData["Title"] = "Ispeziona Log";
}

@if (Model.LogDetails != null && Model.LogDetails.Any())
{
    <h3 class="text-2xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
        <i class="fas fa-list-alt text-red-600"></i> Dettagli Errori
    </h3>
    <div class="overflow-x-auto bg-white rounded-lg shadow">
        <table class="min-w-full divide-y divide-gray-200 text-sm text-gray-700">
            <thead class="bg-gray-100">
                <tr>
                    <th class="px-4 py-3 text-left font-medium text-gray-800 uppercase">Colonna Excel</th>
                    <th class="px-4 py-3 text-left font-medium text-gray-800 uppercase">Riga Errore</th>
                    <th class="px-4 py-3 text-left font-medium text-gray-800 uppercase">Messaggio di Errore</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
                @foreach (var error in Model.LogDetails)
                {
                    <tr class="hover:bg-gray-50">
                        <td class="px-4 py-2">@error.ExcelColumnName</td>
                        <td class="px-4 py-2 text-red-600">
                            @(error.RowNumber is null ? "Globale" : error.RowNumber.ToString())
                        </td>

                        <td class="px-4 py-2 text-red-600">@error.ErrorMessage</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <div class="p-4 bg-yellow-100 text-yellow-700 rounded">
        Nessun errore da mostrare.
    </div>
}
